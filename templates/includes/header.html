{% load static %}

<header id="header" class="navbar navbar-expand-lg navbar-end navbar-absolute-top navbar-light navbar-show-hide"
        data-hs-header-options='{
        "fixMoment": 500,
        "fixEffect": "slide"
      }'>
    <div class="container">
        <nav class="js-mega-menu navbar-nav-wrap">
            <a class="navbar-brand" href="{% url 'website:index' %}" aria-label="Front">
                <img class="navbar-brand-logo" src="{% static 'svg/logos/logo.svg' %}" alt="Logo">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-default">
                        <i class="bi-list"></i>
                    </span>
                <span class="navbar-toggler-toggled">
                        <i class="bi-x"></i>
                    </span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link  {% if request.resolver_match.view_name  == 'website:index' %} active {% endif %}" href="{% url 'website:index' %}">صفحه اصلی</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.view_name  == 'shop:product-grid' %} active {% endif %}" href="{% url 'shop:product-grid' %}">لیست محصولات</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.view_name  == 'website:about' %} active {% endif %}" href="{% url 'website:about' %}">درباره ما</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.resolver_match.view_name  == 'website:contact' %} active {% endif %}" href="{% url 'website:contact' %}">ارتباط با ما</a>
                    </li>
                    <li class="nav-item">
                        <button class="btn btn-ghost-secondary btn-icon" type="button" data-bs-toggle="offcanvas"
                                data-bs-target="#offcanvasNavbarSearch" aria-controls="offcanvasNavbarSearch">
                            <i class="bi-search"></i>
                        </button>
                        <!-- <button type="button" class="btn btn-ghost-secondary btn-icon" type="button"
                            data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbarShoppingCart"
                            aria-controls="offcanvasNavbarShoppingCart">
                            <i class="bi-basket"></i>
                            <span class="cart-item-count ">3</span>
                        </button> -->
                        <a href="{% url 'cart:cart-summary' %}" class="btn btn-ghost-secondary btn-icon">
                            <i class="bi-basket"></i>
                            <span class="cart-item-count" id="total-cart-item-count">{{ cart.get_total_quantity }}</span>
                        </a>
                        {% if request.user.is_authenticated %}
                            <button class="btn btn-ghost-secondary btn-icon" id="dropdownMenuLink"
                                    data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <span class="avatar avatar-sm avatar-circle">
                                    <img class="avatar-img" src="{{ request.user.user_profile.image.url }}"
                                         alt="Image Description">
                                </span>
                            </button>
                            <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                <a class="dropdown-item" href="{% url 'dashboard:home' %}">پروفایل</a>
                                <a class="dropdown-item" href="{% url 'accounts:logout' %}">خروج</a>
                            </div>
                        {% else %}
                            <a class="btn btn-primary btn-transition" href="{% url 'accounts:login' %}">ورود</a>
                        {% endif %}
                    </li>
                </ul>
            </div>
        </nav>
    </div>
</header>
